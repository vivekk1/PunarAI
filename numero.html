<!DOCTYPE html>
<html>
<head>
  <title>Numerology</title>
  <style>
    body { font-family: Arial; }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 90px);
      gap: 6px;
      margin-top: 20px;
    }
    .cell {
      border: 1px solid #999;
      height: 90px;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .destiny {
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h2>Numerology Calculator</h2>

<input id="dob" type="date" placeholder="DD-MM-YYYY">
<button onclick="callAPI()">Check</button>

<div class="grid" id="grid"></div>

<script>
function callAPI() {
  const dob = document.getElementById("dob").value;
  if (!dob) {
    alert("DOB enter karo");
    return;
  }

  fetch(`https://9c36faf0ec67.ngrok-free.app/numerology?dob=${dob}`, {
    headers: {
        "ngrok-skip-browser-warning": "true"
    }
})
    .then(res => {
        if (!res.ok) throw new Error("HTTP error");
        return res.json();
    })
    .then(data => renderGrid(data.grid, data.destiny))
    .catch(err => {
        console.error(err);
        alert("API not reachable");
    });
}

function renderGrid(grid, destiny) {
  const g = document.getElementById("grid");
  g.innerHTML = "";

  for (let r = 0; r < 3; r++) {
    for (let c = 0; c < 3; c++) {
      const cell = document.createElement("div");
      cell.className = "cell";
      cell.textContent = grid[r][c];

      if (grid[r][c].includes(destiny.toString())) {
        cell.classList.add("destiny");
      }

      g.appendChild(cell);
    }
  }
}
</script>

</body>
</html>

